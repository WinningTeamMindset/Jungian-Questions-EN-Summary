<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVC Westerlo - Recruitment Tool</title>
    <style>
        :root { --primary: #1a2a6c; --secondary: #b21f1f; --bg: #f4f7f6; --text: #333; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); padding: 20px; }
        .container { max-width: 850px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; text-transform: uppercase; }
        .section-header { background: var(--primary); color: white; padding: 15px; margin-top: 30px; border-radius: 4px; font-weight: bold; }
        .question { margin-bottom: 25px; padding: 15px; border-bottom: 1px solid #eee; }
        .options { display: grid; gap: 10px; margin-top: 10px; }
        
        /* Interactive Label Styling */
        label { 
            background: #f9f9f9; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            cursor: pointer; 
            display: block; 
            transition: all 0.2s ease;
        }
        
        /* Highlight selected answer on screen */
        label:has(input:checked) {
            background: #eef2ff;
            border-color: var(--primary);
            font-weight: bold;
        }

        input[type="radio"] { margin-right: 10px; transform: scale(1.3); }
        
        #coach-section { display: none; margin-top: 50px; border: 3px dashed var(--secondary); padding: 20px; background: #fffdfd; }
        .btn-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; margin-top: 40px; }
        
        button { padding: 15px 25px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; color: white; font-size: 16px; }
        .btn-calc { background: var(--primary); }
        .btn-print { background: var(--secondary); }
        .btn-reset { background: #6c757d; }
        .btn-coach { background: #444; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: var(--primary); color: white; }
        textarea { width: 100%; height: 80px; margin-top: 10px; padding: 10px; border-radius: 6px; border: 1px solid #ddd; box-sizing: border-box; font-family: inherit; }

        /* PRINT LOGIC: THE FULL REPORT SOLUTION */
        @media print {
            /* Hide UI Buttons */
            .btn-container, .btn-coach, .btn-reset, input[type="radio"] { display: none !important; }
            
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; max-width: none; }
            
            /* Show Questions and ensure they don't split awkwardly across pages */
            .question { display: block !important; page-break-inside: avoid; border-bottom: 1px solid #ccc; }
            
            /* Visually indicate the SELECTED answer in the PDF */
            label { border: 1px solid #eee !important; background: transparent !important; }
            label:has(input:checked) { 
                border: 2px solid black !important; 
                background: #f0f0f0 !important; 
                font-weight: bold !important;
            }
            label:has(input:checked)::before {
                content: "âœ“ ";
                color: green;
            }

            /* Push Coach Section to a separate Page 2/3 */
            #coach-section { 
                display: block !important; 
                border: none !important; 
                page-break-before: always !important; 
                margin-top: 0 !important;
                padding: 0 !important;
            }
            
            textarea { border: 1px solid #999 !important; height: auto !important; min-height: 100px; }
        }
    </style>
</head>
<body>

<div class="container" id="assessment-form">
    <h1>Elite Performance Assessment</h1>
    <p style="text-align: center;">KVC WESTERLO HIGH-PERFORMANCE UNIT</p>

    <div class="section-header">Player Identification</div>
    <div class="question">
        <p><strong>Full Name:</strong></p>
        <input type="text" id="playerName" oninput="updateTitle()" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;">
        <p><strong>Target Position:</strong></p>
        <input type="text" id="playerPosition" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;">
    </div>

    <div id="survey-questions"></div>

    <div class="btn-container">
        <button class="btn-coach" onclick="unlockCoach()">Coach Access</button>
    </div>

    <div id="coach-section">
        <h2 style="color: var(--secondary); text-align: center;">CONFIDENTIAL COACHING ANALYSIS</h2>
        <div id="result-display" style="background: #eef2ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;"></div>
        
        <h3>Tipping Point Matrix</h3>
        <table>
            <thead><tr><th>Segment</th><th>Trait A Count</th><th>Trait B Count</th><th>Dominant</th></tr></thead>
            <tbody id="scoringBody"></tbody>
        </table>

        <h3>Ideal Positional Profiles (Westerlo Squad Fit)</h3>
        <table style="font-size: 0.85rem;">
            <thead><tr><th>Position</th><th>Target Profile</th><th>Strategic Rational</th></tr></thead>
            <tbody>
                <tr><td><strong>GK / CB</strong></td><td><strong>ISTJ / ESTJ</strong></td><td>Reliable process and vocal command to organize the back line.</td></tr>
                <tr><td><strong>Fullbacks</strong></td><td><strong>ESTP</strong></td><td>Tactical resilience and technical transition speed.</td></tr>
                <tr><td><strong>Defensive Mid</strong></td><td><strong>ENTJ</strong></td><td>The "Commander" profile to break the current silent culture.</td></tr>
                <tr><td><strong>Offensive Mid</strong></td><td><strong>ENFJ / ESFP</strong></td><td>The "Vibe Changer" to lift energy during match setbacks.</td></tr>
                <tr><td><strong>Attackers</strong></td><td><strong>ESTP</strong></td><td>High logical resilience (T) to stay clinical after missed chances.</td></tr>
            </tbody>
        </table>

        <h3>Resilience Verification</h3>
        <p><strong>1. Physical Drain Test:</strong> Observe coaching clarity under fatigue.</p>
        <textarea id="note1"></textarea>
        <p><strong>2. Unfair Criticism Anchor:</strong> Logic vs Ego reaction.</p>
        <textarea id="note2"></textarea>
        <p><strong>3. Incomplete Map Intuition:</strong> Natural leadership speed.</p>
        <textarea id="note3"></textarea>
        <p><strong>Assessor Final Summary:</strong></p>
        <textarea id="coachComments"></textarea>
    </div>

    <div class="btn-container">
        <button class="btn-calc" onclick="calculateProfile()">Generate Result</button>
        <button class="btn-print" onclick="window.print()">Save to Desktop (PDF)</button>
        <button class="btn-reset" onclick="resetForm()">Reset Form</button>
    </div>
</div>

<script>
    // Randomized question bank with neutral sentences
    const questions = [
        ["TF", "When facing a major setback, my natural internal monologue is:", "I prefer to take time to privately process the situation.", "I find it helpful to discuss my feelings with others.", "I analyze the specific lessons to adjust my next steps.", "I prefer to move on quickly and focus on the next play."],
        ["SN", "My view on technical failure is:", "I see it as a significant barrier to current progress.", "I view it as a painful experience I try hard to avoid.", "I see it as a source of data for my long-term growth.", "I view it as a temporary blow to my current momentum."],
        ["TF", "If moved to the bench, my natural instinct would be:", "I would stay quiet and focus on individual improvement.", "I would feel a strong personal need to know where I stand.", "I would increase my workload and request a feedback plan.", "I would remain professional and wait for the staff's lead."],
        ["JP", "My self-belief is most stable when:", "I am receiving consistent positive feedback.", "I know my personal preparation is 100% complete.", "I feel a high sense of unity within the group.", "The team is in a clear winning position."],
        ["JP", "Following a mistake that leads to a goal, I usually:", "Take a moment to internally process my frustration.", "Look for a brief connection with a teammate for support.", "Take a deliberate breath to reset for the next action.", "Acknowledge the error to the group to show accountability."],
        ["SN", "To me, a 'Growth Mindset' means:", "Following team rules and systems with high discipline.", "Deliberately stepping into uncomfortable learning zones.", "Striving to be recognized as a highly gifted player.", "Focusing on mistake-free play to maintain confidence."],
        ["TF", "Facing extreme fatigue late in a match, I think:", "I hope to stay focused and avoid drawing attention.", "I focus on my internal grit to survive the whistle.", "I believe my mental strength can outwork the opponent.", "I look for the energy of the crowd to lift me."],
        ["SN", "I feel most confident in my game when:", "The team plays a system I have mastered over time.", "I am faced with a complex new tactical problem.", "The atmosphere in the dressing room is harmonious.", "I feel a clear physical advantage over my opponent."],
        ["TF", "If a teammate gives me direct criticism on the pitch, I:", "Tend to feel a bit protective of my current actions.", "Filter the info for useful data and adjust my play.", "Feel a temporary dip in my overall energy level.", "Prefer to wait for a calm moment to discuss it."],
        ["JP", "I personally define professional success by:", "The final results and the score on the board.", "The quality of our process and the game plan execution.", "The professional status that comes with performance.", "The strength of team relationships and harmony."],
        // Questions 11-50 simplified for brevity, following the same logic...
        ["EI", "In a quiet locker room after a loss, I usually:", "Respect the silence and process things privately.", "Share a proactive, outcome-focused message.", "Prefer to review individual match stats alone.", "Wait for the senior players to set the tone."],
        ["EI", "My preferred method of pitch communication is:", "Leading through my actions rather than words.", "Giving short, loud, and positive coaching instructions.", "Communicating mostly with my immediate zone.", "Providing technical corrections when I see them."],
        ["EI", "If a teammate is struggling under a high press, I:", "Stay in my zone and focus on my own duties.", "Move closer to give specific, clear instructions.", "Use vocal energy to keep them alert and focused.", "Trust the coaching staff to handle the adjustment."],
        ["EI", "My natural approach when meeting new people is:", "To observe carefully before joining in.", "To act as an ice-breaker and lead the social interaction.", "To speak up only when there is a specific point.", "To follow the lead and vibe of the group."],
        ["TF", "If I notice a teammate's effort is below standard:", "I stay focused on my role and let the staff handle it.", "I address it directly and immediately to protect standards.", "I might match their energy if I'm feeling tired.", "I prefer to mention it in a private setting later."],
        ["TF", "I believe team solidarity is built through:", "Frequent social gatherings and off-pitch bonding.", "Supporting and covering each other's actions in-game.", "A policy of never criticizing a teammate in public.", "The natural momentum that comes from winning."],
        ["EI", "Following a questionable referee decision, I tend to:", "Approach the official to express my point of view.", "Tell the team to ignore it and focus on the next ball.", "Keep my frustration internal to fuel my play.", "Look toward the bench for the coach's reaction."],
        ["EI", "The primary purpose of my voice on the pitch is:", "To express my reactions when things are difficult.", "To organize team shape and keep energy high.", "To ensure I am noticed as an option for the ball.", "To provide technical info I am 100% sure of."],
        ["EI", "Attending a club 'Meet and Greet' event, I find it:", "A bit draining as I value my private time.", "A great chance to build rapport and read people.", "A standard duty that requires full professional focus.", "An easy and enjoyable social experience."],
        ["EI", "When the coach asks for an opinion in a meeting, I:", "Wait to see what senior players think first.", "Propose a proactive solution to the group.", "Prefer to stay quiet to avoid the spotlight.", "Only speak up if I am directly asked for input."],
        ["SN", "Learning a new tactic, I prefer to:", "Listen to the technical theory behind the change.", "See the board and then physically walk the zones.", "Read tactical notes and diagrams privately later.", "Understand the emotional 'why' behind the approach."],
        ["SN", "To perform at my highest level, I value:", "The coach's speech and the power of his words.", "Visual tactical pictures followed by on-pitch practice.", "The audible support and energy of the home crowd.", "Focusing solely on my internal will to win."],
        ["SN", "To correct a technical error, I prefer:", "Reviewing video followed by physical drills.", "A detailed 1-on-1 with the technical coach.", "Finding time to ask while figuring it out myself.", "Studying stats to see the frequency of the error."],
        ["SN", "During the match, I focus most on:", "Scanning to track movements before I get the ball.", "Staying alert for instructions from the bench.", "My internal monologue and thinking through moves.", "Managing my emotional state to stay composed."],
        ["EI", "My professional style in three words:", "Quiet, Smart, Observing.", "Vocal, Physical, Sharp.", "Brave, Social, Vocal.", "Fast, Lucky, Talented."],
        ["SN", "When a coach says 'Don't foul,' my instinct is:", "To think about the specific foul I must avoid.", "To reframe it as: 'Keep the actions clean.'", "To feel a bit more nervous about my next tackle.", "To hope the instruction is for someone else."],
        ["SN", "My preferred video analysis is:", "A 30-minute session on deep tactical theory.", "20 minutes of high-impact success/improvement clips.", "A session that highlights every mistake to fix.", "A casual group chat setting while on the pitch."],
        ["SN", "To me, 'Pitch Intuition' feels like:", "Thinking through the logic before acting on feeling.", "Seeing what needs to happen and feeling the action.", "A logical conclusion based on tactical knowledge.", "A surge of adrenaline that guides my movement."],
        ["SN", "To get 'in the zone' before a game, I need:", "Total silence and time alone with my thoughts.", "High-energy music and physical interaction.", "A clear and simple list of my personal KPIs.", "To spend time visualizing the stadium atmosphere."],
        ["SN", "I understand a teammate's intent best by:", "Listening carefully to the words they use.", "Watching body language, position, and 'vibe'.", "Knowing their personality and how they think.", "Listening to what they say during halftime."],
        ["JP", "Using phones in the gym or physio room:", "I use it to stay connected with my circle.", "I prefer to keep it in my locker for total focus.", "I follow the example set by the senior players.", "I find it useful for my own music only."],
        ["JP", "When leading 3-0, my intensity:", "Adjusts slightly to conserve energy for later.", "Stays at 100% to hunt a clean sheet and goals.", "Depends on whether the opponent is still fighting.", "Becomes a moment to show individual technical skill."],
        ["JP", "My standard for arriving 'on time' is:", "To be there exactly at the scheduled time.", "To be ready and prepared 5 minutes before start.", "To arrive when the majority of the group does.", "To ensure I am never the last person to walk in."],
        ["JP", "If media praises my game at halftime, I:", "Might check social media during the break.", "Focus on team efforts first in all my comments.", "Enjoy sharing the deep insights of the game.", "Feel a boost because my work was noticed."],
        ["JP", "Receiving a correction from staff, I:", "Can sometimes feel personally challenged by it.", "Listen and try to get a physical feel for the change.", "Explain my perspective on why I did it differently.", "Nod and keep working to see how it plays out."],
        ["JP", "A 'Complete Professional' is someone who:", "Is recognized as the most talented in the squad.", "Maintains high standards even when training alone.", "Focuses on keeping the peace and avoiding conflict.", "Works hard to remain popular within the team."],
        ["EI", "During team travel, my habit is:", "To stay isolated and focus on mental preparation.", "To seek out social contact with a teammate.", "To use the time for rest, sleep, or a movie.", "To join the group for casual small talk."],
        ["JP", "I believe team rules and protocols are:", "Guidelines that can be flexible for top performers.", "The non-negotiable foundation of our collective force.", "A way for the coaching staff to maintain control.", "Occasionally annoying as I prefer personal freedom."],
        ["EI", "If I am injured, I see my role as:", "Focusing entirely on my recovery at home.", "Staying present and providing vocal support.", "Avoiding the dressing room to stay out of the way.", "Waiting for a specific invitation to join the group."],
        ["JP", "I judge my own performance based on:", "Whether the team ultimately won or lost.", "Whether I achieved my tactical duties and KPIs.", "The feedback in media and social media comments.", "Whether I personally enjoyed the game."],
        ["JP", "If 3-1 down with 10 minutes left, I:", "Focus on protecting my individual performance stats.", "Celebrate the next goal like a winner and push.", "Hope for the final whistle so we can move on.", "Address other players so they can react and score."],
        ["TF", "A 'Crisis' on the pitch represents:", "A tactical failure that needs a post-match fix.", "An opportunity to lead and refocus a losing team.", "A situation where we must avoid further damage.", "A result of having low-performing teammates."],
        ["EI", "My reaction after a goal is conceded:", "I look down and process the moment internally.", "I put my chest out and encourage the teammates.", "I show my frustration through gestures or words.", "I look at the coach for tactical information."],
        ["TF", "A 'Warrior' on the pitch is someone who:", "Is the most aggressive and physically dominant.", "Stays intense and focused from the first second.", "Remains completely emotionless regardless of score.", "Is the most vocal person in the group."],
        ["TF", "When the coach is very angry, I feel:", "A bit more nervous which affects my decisions.", "That he is transferring energy to the pitch.", "That it is best to ignore the emotion and play.", "That it can sometimes feel like a personal attack."],
        ["TF", "To handle a dip in confidence, I:", "Look for external praise to rebuild self-belief.", "Utilize internal reset protocols and logic.", "Hope for an easy win to get back on track.", "Try to avoid the ball to prevent mistakes."],
        ["TF", "When the opponent dominates possession, I:", "Feel a sense of panic as if we are losing control.", "Stay disciplined on my pressing triggers.", "Feel a bit bored waiting for the ball to return.", "Feel frustrated at other units for losing the ball."],
        ["TF", "A leader's job after a loss is:", "To identify the specific mistakes made.", "To support the group and refocus each individual.", "To stay quiet and lead through a stoic example.", "To defend the team against outside criticism."],
        ["TF", "My fighting spirit is triggered by:", "The desire to avoid personal embarrassment.", "A deep internal commitment to the collective force.", "The professional rewards for winning.", "A desire to step up and be the hero for the team."],
        ["EI", "To me, 'ONE FORCE' means:", "A squad full of highly talented individuals.", "A vocal group that holds each other to standards.", "An environment where everyone is comfortable.", "A team with enough rest to maintain balance."]
    ];

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuestions() {
        const container = document.getElementById('survey-questions');
        questions.forEach((q, i) => {
            const div = document.createElement('div');
            div.className = 'question';
            
            let options = [
                { val: 'a', text: q[2], trait: q[0].charAt(1) },
                { val: 'b', text: q[3], trait: q[0].charAt(0) },
                { val: 'c', text: q[4], trait: q[0].charAt(0) },
                { val: 'd', text: q[5], trait: q[0].charAt(1) }
            ];
            shuffle(options);

            div.innerHTML = `<p>${i+1}. ${q[1]}</p><div class="options">
                ${options.map(opt => `
                    <label>
                        <input type="radio" name="q${i}" value="${opt.val}" data-trait="${opt.trait}"> 
                        ${opt.text}
                    </label>`).join('')}
            </div>`;
            container.appendChild(div);
        });
    }

    function unlockCoach() {
        if(prompt("Coach Password:") === "kvc2025") {
            document.getElementById('coach-section').style.display = 'block';
            window.scrollTo(0, document.getElementById('coach-section').offsetTop);
        }
    }

    function updateTitle() {
        const name = document.getElementById('playerName').value || "Assessment";
        document.title = `KVC_Elite_Report_${name.replace(/\s+/g, '_')}`;
    }

    function calculateProfile() {
        let sc = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
        questions.forEach((q, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if(!sel) return;
            const trait = sel.getAttribute('data-trait');
            if(sc.hasOwnProperty(trait)) sc[trait]++;
        });
        const prof = [(sc.E >= sc.I ? "E" : "I"), (sc.S >= sc.N ? "S" : "N"), (sc.T >= sc.F ? "T" : "F"), (sc.J >= sc.P ? "J" : "P")].join('');
        document.getElementById('result-display').innerHTML = `<h3>Calculated Profile: ${prof}</h3>`;
        document.getElementById('scoringBody').innerHTML = `
            <tr><td>Energy (E/I)</td><td>E: ${sc.E}</td><td>I: ${sc.I}</td><td>${sc.E > sc.I ? 'E' : 'I'}</td></tr>
            <tr><td>Information (S/N)</td><td>S: ${sc.S}</td><td>N: ${sc.N}</td><td>${sc.S > sc.N ? 'S' : 'N'}</td></tr>
            <tr><td>Decision (T/F)</td><td>T: ${sc.T}</td><td>F: ${sc.F}</td><td>${sc.T > sc.F ? 'T' : 'F'}</td></tr>
            <tr><td>Lifestyle (J/P)</td><td>J: ${sc.J}</td><td>P: ${sc.P}</td><td>${sc.J > sc.P ? 'J' : 'P'}</td></tr>`;
    }

    function resetForm() {
        if(confirm("Clear all data and start a new form?")) location.reload();
    }

    renderQuestions();
</script>
</body>
</html>
