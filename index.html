<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KVC Westerlo - Elite Recruitment Portal</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1a2a6c; --secondary: #b21f1f; --success: #28a745; --bg: #f4f7f6; --text: #333; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 10px; margin: 0; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; font-size: 1.6rem; text-transform: uppercase; margin-bottom: 5px; }
        .section-header { background: var(--primary); color: white; padding: 12px; margin-top: 30px; border-radius: 4px; font-weight: bold; font-size: 1.1rem; }
        .question { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .question p { font-weight: 600; margin-bottom: 12px; font-size: 1rem; }
        .options { display: flex; flex-direction: column; gap: 10px; }
        label { background: #f9f9f9; padding: 15px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; display: block; -webkit-tap-highlight-color: transparent; }
        input[type="radio"] { transform: scale(1.3); margin-right: 12px; vertical-align: middle; }
        #coach-section { display: none; margin-top: 50px; border: 4px dashed var(--secondary); padding: 25px; border-radius: 12px; background: #fffdfd; }
        .btn-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; margin-top: 40px; }
        button { padding: 16px 24px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1rem; color: white; min-width: 180px; }
        .btn-calc { background: var(--primary); }
        .btn-print { background: var(--secondary); }
        .btn-save { background: var(--success); }
        .btn-coach { background: #444; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.95rem; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: var(--primary); color: white; }
        textarea { width: 100%; height: 100px; padding: 12px; border-radius: 6px; border: 1px solid #ddd; margin-top: 10px; box-sizing: border-box; font-family: inherit; }
        .summary-box { background: #eef2ff; padding: 15px; border-left: 5px solid var(--primary); margin: 15px 0; border-radius: 4px; }
    </style>
</head>
<body>

<div class="container" id="assessment-content">
    <h1>Elite Performance Assessment</h1>
    <p style="text-align: center; color: #666; font-size: 0.9rem;">KVC WESTERLO HIGH-PERFORMANCE UNIT</p>

    <div class="section-header">Player Identification</div>
    <div class="question">
        <p>Full Name:</p>
        <input type="text" id="playerName" placeholder="Enter player name..." style="width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ddd; box-sizing: border-box;">
        <p>Target Position:</p>
        <input type="text" id="playerPosition" placeholder="e.g., Attacker" style="width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ddd; box-sizing: border-box;">
    </div>

    <div id="survey-questions"></div>

    <div class="btn-container">
        <button class="btn-coach" onclick="unlockCoach()">Coach Access</button>
    </div>

    <div id="coach-section">
        <h2 style="color: var(--secondary); text-align: center;">CONFIDENTIAL COACHING ANALYSIS</h2>
        <div id="result-display" class="summary-box"></div>
        
        <h3>Tipping Point Matrix</h3>
        <table>
            <thead><tr><th>Segment</th><th>Trait A Count</th><th>Trait B Count</th><th>Status</th></tr></thead>
            <tbody id="scoringBody"></tbody>
        </table>

        <div class="summary-box">
            <h4>Trait Meanings for KVC Westerlo</h4>
            <ul style="font-size: 0.9rem; padding-left: 20px;">
                <li><strong>E (Extrovert):</strong> Vocal Force. Breaks the silent culture.</li>
                <li><strong>I (Introvert):</strong> Internal Processor. High risk of "Relapse of Doubt".</li>
                <li><strong>S (Sensing):</strong> 50/50 V/K Talent. Focuses on technical "feel" and visual details.</li>
                <li><strong>N (Intuitive):</strong> Pattern Reader. Anticipates tactical moves.</li>
                <li><strong>T (Thinking):</strong> Logic Shield. Immune to emotional contagion.</li>
                <li><strong>F (Feeling):</strong> Solidarity Builder. Glue for team cohesion.</li>
                <li><strong>J (Judging):</strong> Process Pro. Adheres to strict KPI protocols.</li>
                <li><strong>P (Perceiving):</strong> Warrior Adaptability. Resets rapidly.</li>
            </ul>
        </div>

        <h3>Doubt-Trap Interview Scenarios</h3>
        <p><strong>1. Physical Drain Test:</strong> Coaching clarity under extreme fatigue.</p>
        <textarea id="note1" placeholder="Does coaching remain specific and loud?"></textarea>
        <p><strong>2. Unfair Criticism Anchor:</strong> Logic vs. Ego.</p>
        <textarea id="note2" placeholder="Logical response vs defensive reaction?"></textarea>
        <p><strong>3. Incomplete Map Intuition:</strong> Natural Leadership Speed.</p>
        <textarea id="note3" placeholder="Did they take the pen and lead the coaching?"></textarea>
        <p><strong>Assessor Final Summary:</strong></p>
        <textarea id="coachComments" placeholder="Recruitment recommendation..."></textarea>
    </div>

    <div class="btn-container">
        <button class="btn-calc" onclick="calculateProfile()">Generate Result</button>
        <button class="btn-print" onclick="printPDF()">Print PDF Report</button>
        <button class="btn-save" onclick="saveDataFile()">Save Data File</button>
    </div>
</div>

<script>
    const questions = [
        ["TF", "When I face a major setback, my internal monologue is:", "Why me?", "Talk to someone.", "What is the lesson? Adjust.", "Forget it fast."],
        ["SN", "Relationship with failure?", "A wall.", "Avoid at all costs.", "A stepping stone.", "Temporary blow."],
        ["TF", "If dropped from the lineup, I would:", "Get quiet.", "Feel deep doubt.", "Increase intensity + Improve.", "Wait for coach."],
        ["JP", "Self-belief is most stable when:", "Getting praise.", "Preparation is 100%.", "Teammates are high energy.", "Winning easy."],
        ["JP", "Reaction to mistake causing a goal:", "Internalize frustration.", "Look for reassurance.", "Deep breath + Reset.", "Apologize."],
        ["SN", "A 'Growth Mindset' is:", "Follow rules.", "Embrace discomfort.", "Being most talented.", "Avoiding errors."],
        ["TF", "In 85th minute exhaustion, I think:", "Don't pass to me.", "Just survive.", "Mental strength beats talent.", "Fans lift me."],
        ["SN", "I feel most confident when:", "Playing familiar system.", "Challenged by new problem.", "Vibe is 10/10.", "Clear advantage."],
        ["TF", "Harsh teammate criticism on pitch:", "Defensive.", "Process data & Adjust.", "Energy drop.", "Wait until later."],
        ["JP", "Success is defined by:", "Final score.", "Execution and process.", "Status/Recognition.", "Group harmony."],
        ["EI", "In a silent locker room after loss:", "Stay silent.", "Vocal outcome-focused message.", "Analyze stats alone.", "Wait for captain."],
        ["EI", "Pitch communication preference:", "Lead by example (silent).", "Short, loud coaching on the pitch.", "Talk to 2-3 players nearby.", "Correcting mistakes."],
        ["EI", "Teammate panicking during a defensive press:", "Avoid them.", "Give to the point coaching and give clear instructions.", "Yell to wake up.", "Hope for sub."],
        ["EI", "Natural role with strangers:", "Observer.", "Ice breaker/Talker.", "Speak for specific points.", "Follower."],
        ["TF", "Teammate showing 60% effort during training:", "Ignore it.", "Call out immediately.", "Do the same.", "Mention privately."],
        ["TF", "Solidarity is built by:", "Off-pitch social.", "Covering each others mistakes on the pitch.", "Never criticize in public.", "Winning."],
        ["EI", "Reaction to bad ref call:", "Chase ref.", "Tell team: 'Ref done, next ball!'", "Internal anger.", "Look at the coach."],
        ["EI", "Primary use of voice:", "Express frustration.", "Organize and keep energy high.", "Ask for ball.", "Technical info only."],
        ["EI", "Small talk in meet-and-greet:", "Exhausting.", "Build rapport & read people.", "Duty only.", "Easy."],
        ["EI", "Opinion in team meeting:", "Wait for seniors.", "Propose a solution.", "Stay quiet.", "Only if asked."],
        ["SN", "Learning a new tactic:", "Listen to theory.", "See board + Physical walk.", "Read notes.", "Feel emotions."],
        ["SN", "Best way to perform highest level:", "Coach's pep talk & his words.", "Visual tactical pictures/video's + 'on-pitch' practice.", "Support of the crowd.", "Having the Will to win."],
        ["SN", "Fixing technical error:", "Video + Physical drill.", "Talk to coach.", "Wait/Figure it out in the meantime.", "Study stats."],
        ["SN", "During the Match I focus...:", "Track movements by scanning before I get the ball.", "Wait for coaching from bench.", "Internal monologue.", "Manage emotions."],
        ["EI", "Your Style in 3 words:", "Quiet, Smart, Observing.", "Vocal, Physical, Sharp.", "Brave, Social, Vocal.", "Fast, Lucky, Talented."],
        ["SN", "Response to 'Don't make a foul':", "Think of foul.", "Reframed: 'Keep the actions clean'.", "Nervous.", "Hope not me."],
        ["SN", "Preferred video analysis:", "30 min theory.", "20 min powerful success and improvement clips.", "Focus on mistakes to improve.", "Group chat setting on the pitch."],
        ["SN", "Pitch intuition feels like:", "Think before I act.", "I can see what needs to happen and feel intuitively.", "Logic.", "Adrenaline."],
        ["SN", "To get 'in the zone' before a game:", "Silence.", "Energy music + Physical contact.", "Personal KPIs.", "Visualize stadium."],
        ["SN", "Understand teammate's intent:", "Listening.", "Watching body language/position + 'feel' vibe.", "Know Personality.", "Halftime talks."],
        ["JP", "Gym/Physio phone policy:", "Stay connected.", "In the box/locker.", "Mirror seniors.", "Music only."],
        ["JP", "3-0 up intensity:", "Save energy.", "Hunt clean sheet + get another Goal.", "Depends on opponent.", "Show off skills."],
        ["JP", "Arriving 'on time':", "Exactly on time.", "at least 5 mins before start.", "Follow group.", "Not last."],
        ["JP", "Media praising my half time game:", "Check social media later.", "It's about the team first.", "Deep insights.", "A boost."],
        ["JP", "Correction from coaching staff:", "Insulted.", "Listen + try to get a feeling of change.", "Explain why differently.", "Nod/Keep head down."],
        ["JP", "Complete professional is:", "Most talented.", "Keep Standards even when alone.", "Peace/No conflict.", "Popular."],
        ["EI", "Team traveling habits:", "Isolated.", "Build/seek contact.", "Sleep/Movie.", "Gather for chit-chat."],
        ["JP", "Rules and protocols are:", "There to be broken.", "Foundation of force.", "Coach's control.", "Annoying/Free."],
        ["EI", "My Role when injured:", "Stay home.", "Stay Present + vocal support.", "Avoid dressing room.", "Wait for invite."],
        ["JP", "Performance judgment:", "Win/Loss.", "KPIs and duties achieved.", "Media/Social comments.", "Enjoyment."],
        ["JP", "3-1 down, 10 mins left:", "Protect stats.", "Celebrate next goal like winner.", "Hope for whistle.", "Blame others."],
        ["TF", "Pitch crisis is:", "Tactical failure.", "To Lead a losing team.", "Survival.", "Low-performing teammates."],
        ["EI", "Reaction after goal conceded:", "Head down.", "Chest out, head up, encourage.", "Hands up/Angry.", "Look at coach."],
        ["TF", "A 'Warrior' is:", "Aggressive.", "Focus/Intense regardless of score.", "Emotionless.", "Loudest."],
        ["TF", "Coach getting angry:", "Nervous.", "He wants energy on pitch.", "Ignore.", "Personal attack."],
        ["TF", "Handle doubt relapse:", "Search for praise.", "Reset Protocol + Logic.", "Hope for easy win.", "Avoid ball."],
        ["TF", "Opponent dominates ball:", "Panic.", "Focus on Press triggers.", "Bored.", "Midfield anger."],
        ["TF", "Leader's job after loss:", "Identify mistakes.", "Support & Refocus individuals.", "Stay quiet.", "Defend team."],
        ["TF", "Fighting spirit trigger:", "No embarrassment.", "Commitment to the Force.", "Money.", "Hero desire."],
        ["EI", "What ONE FORCE means in a Team:", "Many Talented players.", "Vocal, Accountable, Covering.", "Comfortable/Social.", "Days off."]
    ];

    function renderQuestions() {
        const container = document.getElementById('survey-questions');
        questions.forEach((q, i) => {
            const div = document.createElement('div');
            div.className = 'question';
            div.innerHTML = `<p>${i+1}. ${q[1]}</p>
                <div class="options">
                    <label><input type="radio" name="q${i}" value="a"> ${q[2]}</label>
                    <label><input type="radio" name="q${i}" value="b"> ${q[3]}</label>
                    <label><input type="radio" name="q${i}" value="c"> ${q[4]}</label>
                    <label><input type="radio" name="q${i}" value="d"> ${q[5]}</label>
                </div>`;
            container.appendChild(div);
        });
    }

    function unlockCoach() {
        if(prompt("Enter Coach Password:") === "kvc2025") {
            document.getElementById('coach-section').style.display = 'block';
        }
    }

    function calculateProfile() {
        let sc = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
        questions.forEach((q, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if(!sel) return;
            const type = q[0], v = sel.value;
            if(v === 'b' || v === 'c') { 
                if(type.includes("E")) sc.E++; if(type.includes("N")) sc.N++; if(type.includes("T")) sc.T++; if(type.includes("J")) sc.J++; 
            } else {
                if(type.includes("I")) sc.I++; if(type.includes("S")) sc.S++; if(type.includes("F")) sc.F++; if(type.includes("P")) sc.P++;
            }
        });
        const prof = [(sc.E >= sc.I ? "E" : "I"), (sc.S >= sc.N ? "S" : "N"), (sc.T >= sc.F ? "T" : "F"), (sc.J >= sc.P ? "J" : "P")].join('');
        const fit = { "ESTP": "Dynamo (Finisher/Back)", "ENTJ": "Commander (Def Mid)", "ESFP": "Performer (Off Mid)", "ENFJ": "Protagonist" };
        
        document.getElementById('result-display').innerHTML = `<h3>Profile: ${prof}</h3><p><strong>Match:</strong> ${fit[prof] || "Hybrid"}</p>`;
        document.getElementById('scoringBody').innerHTML = `
            <tr><td>Energy</td><td>Extrovert (E): ${sc.E}</td><td>Introvert (I): ${sc.I}</td><td>${sc.E > sc.I ? 'E' : 'I'}</td></tr>
            <tr><td>Information</td><td>Sensing (S): ${sc.S}</td><td>Intuition (N): ${sc.N}</td><td>${sc.S > sc.N ? 'S' : 'N'}</td></tr>
            <tr><td>Decision</td><td>Thinking (T): ${sc.T}</td><td>Feeling (F): ${sc.F}</td><td>${sc.T > sc.F ? 'T' : 'F'}</td></tr>
            <tr><td>Lifestyle</td><td>Judging (J): ${sc.J}</td><td>Perceiving (P): ${sc.P}</td><td>${sc.J > sc.P ? 'J' : 'P'}</td></tr>`;
    }

    function printPDF() {
        const name = document.getElementById('playerName').value || "Player";
        html2pdf().from(document.getElementById('assessment-content')).set({
            margin: 10, filename: `KVC_Elite_Report_${name.replace(/\s+/g, '_')}.pdf`,
            image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        }).save();
    }

    function saveDataFile() {
        const name = document.getElementById('playerName').value || "Player";
        const res = document.getElementById('result-display').innerText;
        const matrix = document.getElementById('scoringTable').innerText;
        const blob = new Blob([`KVC REPORT\nNAME: ${name}\n\nRESULT:\n${res}\n\nMATRIX:\n${matrix}`], { type: 'text/plain' });
        const a = document.createElement('a'); a.download = `${name.replace(/\s+/g, '_')}.txt`; a.href = URL.createObjectURL(blob); a.click();
    }
    renderQuestions();
</script>
</body>
</html>
