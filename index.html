<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KVC Westerlo - Recruitment Tool</title>
    <style>
        :root { --primary: #1a2a6c; --secondary: #b21f1f; --bg: #f4f7f6; --text: #333; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); padding: 20px; }
        .container { max-width: 850px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; text-transform: uppercase; }
        .section-header { background: var(--primary); color: white; padding: 15px; margin-top: 30px; border-radius: 6px; font-weight: bold; }
        .question { margin-bottom: 25px; padding: 15px; border-bottom: 1px solid #eee; }
        .options { display: grid; gap: 10px; margin-top: 10px; }
        label { background: #f9f9f9; padding: 15px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; display: block; }
        input[type="radio"] { margin-right: 10px; transform: scale(1.3); }
        #coach-section { display: none; margin-top: 50px; border: 3px dashed var(--secondary); padding: 20px; background: #fffdfd; }
        .btn-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 30px; }
        button { padding: 15px 25px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; color: white; font-size: 16px; transition: 0.2s; }
        .btn-calc { background: var(--primary); }
        .btn-print { background: var(--secondary); }
        .btn-reset { background: #6c757d; }
        .btn-coach { background: #444; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: var(--primary); color: white; }
        textarea { width: 100%; height: 80px; margin-top: 10px; padding: 10px; border-radius: 6px; border: 1px solid #ddd; box-sizing: border-box; }
        
        /* Forces the Coach Section to be visible during Print but hidden on screen */
        @media print {
            .btn-container, .btn-coach, .section-header:first-of-type, .btn-reset { display: none !important; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; max-width: none; }
            .question { page-break-inside: avoid; }
            #coach-section { display: block !important; border: none; }
            title { display: block; }
        }
    </style>
</head>
<body>

<div class="container" id="assessment-form">
    <h1>Elite Performance Assessment</h1>
    <p style="text-align: center;">KVC WESTERLO HIGH-PERFORMANCE UNIT</p>

    <div class="section-header">Player Identification</div>
    <div class="question">
        <p><strong>Full Name:</strong></p>
        <input type="text" id="playerName" oninput="updateTitle()" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;">
        <p><strong>Target Position:</strong></p>
        <input type="text" id="playerPosition" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;">
    </div>

    <div id="survey-questions"></div>

    <div class="btn-container">
        <button class="btn-coach" onclick="unlockCoach()">Coach Access</button>
    </div>

    <div id="coach-section">
        <h2 style="color: var(--secondary); text-align: center;">CONFIDENTIAL COACHING ANALYSIS</h2>
        <div id="result-display" style="background: #eef2ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;"></div>
        
        <h3>Tipping Point Matrix</h3>
        <table>
            <thead><tr><th>Segment</th><th>Trait A</th><th>Trait B</th><th>Dominant</th></tr></thead>
            <tbody id="scoringBody"></tbody>
        </table>

        <h3>Resilience Verification</h3>
        <p><strong>1. Physical Drain Test:</strong></p>
        <textarea id="note1" placeholder="Vocal coaching clarity under fatigue..."></textarea>
        <p><strong>2. Unfair Criticism Anchor:</strong></p>
        <textarea id="note2" placeholder="Logic vs Ego reaction..."></textarea>
        <p><strong>3. Incomplete Map Intuition:</strong></p>
        <textarea id="note3" placeholder="Natural leadership speed..."></textarea>
    </div>

    <div class="btn-container">
        <button class="btn-calc" onclick="calculateProfile()">Generate Result</button>
        <button class="btn-print" onclick="handlePrint()">Save to Desktop (PDF)</button>
        <button class="btn-reset" onclick="resetForm()">Reset Form</button>
    </div>
</div>

<script>
    const questions = [
        ["TF", "When I face a major setback, my internal monologue is:", "Why me?", "Talk to someone.", "What is the lesson? Adjust.", "Forget it fast."],
        ["SN", "Relationship with failure?", "A wall.", "Avoid at all costs.", "A stepping stone.", "Temporary blow."],
        ["TF", "If dropped from the lineup, I would:", "Get quiet.", "Feel deep doubt.", "Increase intensity + Improve.", "Wait for coach."],
        ["JP", "Self-belief is most stable when:", "Getting praise.", "Preparation is 100%.", "Teammates are high energy.", "Winning easy."],
        ["JP", "Reaction to mistake causing a goal:", "Internalize frustration.", "Look for reassurance.", "Deep breath + Reset.", "Apologize."],
        ["SN", "A 'Growth Mindset' is:", "Follow rules.", "Embrace discomfort.", "Being most talented.", "Avoiding errors."],
        ["TF", "In 85th minute exhaustion, I think:", "Don't pass to me.", "Just survive.", "Mental strength beats talent.", "Fans lift me."],
        ["SN", "I feel most confident when:", "Playing familiar system.", "Challenged by new problem.", "Vibe is 10/10.", "Clear advantage."],
        ["TF", "Harsh teammate criticism on pitch:", "Defensive.", "Process data & Adjust.", "Energy drop.", "Wait until later."],
        ["JP", "Success is defined by:", "Final score.", "Execution and process.", "Status/Recognition.", "Group harmony."],
        ["EI", "In a silent locker room after loss:", "Stay silent.", "Vocal outcome-focused message.", "Analyze stats alone.", "Wait for captain."],
        ["EI", "Pitch communication preference:", "Lead by example (silent).", "Short, loud coaching.", "Talk to 2-3 nearby.", "Correcting mistakes."],
        ["EI", "Teammate panicking during press:", "Avoid them.", "Give clear coaching/instructions.", "Yell to wake up.", "Hope for sub."],
        ["EI", "Natural role with strangers:", "Observer.", "Ice breaker/Talker.", "Speak for specific points.", "Follower."],
        ["TF", "Teammate showing 60% effort:", "Ignore it.", "Call out immediately.", "Do the same.", "Mention privately."],
        ["TF", "Solidarity is built by:", "Off-pitch social.", "Covering each others mistakes.", "Never criticize in public.", "Winning."],
        ["EI", "Reaction to bad ref call:", "Chase ref.", "Tell team: 'Ref done, next ball!'", "Internal anger.", "Look at coach."],
        ["EI", "Primary use of voice:", "Express frustration.", "Organize and keep energy high.", "Ask for ball.", "Technical info only."],
        ["EI", "Small talk in meet-and-greet:", "Exhausting.", "Build rapport/read people.", "Duty only.", "Easy."],
        ["EI", "Opinion in team meeting:", "Wait for seniors.", "Propose a solution.", "Stay quiet.", "Only if asked."],
        ["SN", "Learning a new tactic:", "Listen to theory.", "See board + Physical walk.", "Read notes.", "Feel emotions."],
        ["SN", "Best way to perform highest level:", "Coach's pep talk.", "Visual tactical pictures/practice.", "Support of crowd.", "Will to win."],
        ["SN", "Fixing technical error:", "Video + Physical drill.", "Talk to coach.", "Figure it out.", "Study stats."],
        ["SN", "During the Match I focus:", "Scanning before ball.", "Wait for coaching.", "Internal monologue.", "Manage emotions."],
        ["EI", "Your Style in 3 words:", "Quiet, Smart.", "Vocal, Physical, Sharp.", "Brave, Social, Vocal.", "Fast, Lucky."],
        ["SN", "Response to 'Don't make a foul':", "Think of foul.", "Reframe: 'Keep actions clean'.", "Nervous.", "Hope not me."],
        ["SN", "Preferred video analysis:", "30 min theory.", "20 min success clips.", "Mistake focus.", "Group chat setting."],
        ["SN", "Pitch intuition feels like:", "Think before I act.", "See what needs to happen.", "Logic.", "Adrenaline."],
        ["SN", "To get 'in the zone':", "Silence.", "Energy music.", "Personal KPIs.", "Visualize stadium."],
        ["SN", "Understand teammate's intent:", "Listening.", "Watching body language.", "Personality.", "Halftime talks."],
        ["JP", "Gym/Physio phone policy:", "Stay connected.", "In the box/locker.", "Mirror seniors.", "Music only."],
        ["JP", "3-0 up intensity:", "Save energy.", "Hunt clean sheet.", "Depends on opponent.", "Show off skills."],
        ["JP", "Arriving 'on time':", "Exactly on time.", "5 mins before.", "Follow group.", "Not last."],
        ["JP", "Media praising my game:", "Check social media.", "Team efforts first.", "Deep insights.", "A boost."],
        ["JP", "Correction from coaching staff:", "Insulted.", "Listen + Feel change.", "Explain why.", "Nod/Keep head down."],
        ["JP", "Complete professional is:", "Most talented.", "Standards when alone.", "Keep the peace.", "Popular."],
        ["EI", "Team traveling habits:", "Isolated.", "Seek contact.", "Sleep/Movie.", "Gather for chit-chat."],
        ["JP", "Rules and protocols are:", "There to be broken.", "Foundation of force.", "Coach's control.", "Annoying."],
        ["EI", "My Role when injured:", "Stay home.", "Stay Present + support.", "Avoid dressing room.", "Wait for invite."],
        ["JP", "Performance judgment:", "Win/Loss.", "KPIs met.", "Media/Social.", "Enjoyment."],
        ["JP", "3-1 down, 10 mins left:", "Protect stats.", "Celebrate next goal.", "Hope for whistle.", "Blame others."],
        ["TF", "Pitch crisis is:", "Tactical failure.", "Lead a losing team.", "Survival.", "Low-perf teammates."],
        ["EI", "Reaction after goal conceded:", "Head down.", "Chest out, Encourage.", "Hands up/Angry.", "Look at coach."],
        ["TF", "A 'Warrior' is:", "Aggressive.", "Intense from 1st second.", "Emotionless.", "Loudest."],
        ["TF", "Coach getting angry:", "Nervous.", "Energy to pitch.", "Ignore.", "Personal attack."],
        ["TF", "Handle doubt relapse:", "Search for praise.", "Reset Protocol + Logic.", "Hope for easy win.", "Avoid ball."],
        ["TF", "Opponent dominates ball:", "Panic.", "Focus on Press triggers.", "Bored.", "Midfield anger."],
        ["TF", "Leader's job after loss:", "Identify mistakes.", "Support & Refocus.", "Stay quiet.", "Defend team."],
        ["TF", "Fighting spirit trigger:", "No embarrassment.", "Commitment to Force.", "Money.", "Hero desire."],
        ["EI", "ONE FORCE means:", "Talent.", "Vocal, Accountable, Covering.", "Comfortable.", "Days off."]
    ];

    function renderQuestions() {
        const container = document.getElementById('survey-questions');
        questions.forEach((q, i) => {
            const div = document.createElement('div');
            div.className = 'question';
            div.innerHTML = `<p>${i+1}. ${q[1]}</p><div class="options">
                <label><input type="radio" name="q${i}" value="a"> ${q[2]}</label>
                <label><input type="radio" name="q${i}" value="b"> ${q[3]}</label>
                <label><input type="radio" name="q${i}" value="c"> ${q[4]}</label>
                <label><input type="radio" name="q${i}" value="d"> ${q[5]}</label>
            </div>`;
            container.appendChild(div);
        });
    }

    function unlockCoach() {
        if(prompt("Coach Password:") === "kvc2025") {
            document.getElementById('coach-section').style.display = 'block';
            alert("Coach section unlocked. It will now be included in the PDF.");
        }
    }

    function updateTitle() {
        const name = document.getElementById('playerName').value || "Assessment";
        document.title = `KVC_Elite_Report_${name.replace(/\s+/g, '_')}`;
    }

    function calculateProfile() {
        let sc = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
        questions.forEach((q, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if(!sel) return;
            const type = q[0], v = sel.value;
            if(v === 'b' || v === 'c') { if(type.includes("E")) sc.E++; if(type.includes("N")) sc.N++; if(type.includes("T")) sc.T++; if(type.includes("J")) sc.J++; }
            else { if(type.includes("I")) sc.I++; if(type.includes("S")) sc.S++; if(type.includes("F")) sc.F++; if(type.includes("P")) sc.P++; }
        });
        const prof = [(sc.E >= sc.I ? "E" : "I"), (sc.S >= sc.N ? "S" : "N"), (sc.T >= sc.F ? "T" : "F"), (sc.J >= sc.P ? "J" : "P")].join('');
        document.getElementById('result-display').innerHTML = `<h3>Calculated Profile: ${prof}</h3>`;
        document.getElementById('scoringBody').innerHTML = `
            <tr><td>Energy</td><td>E: ${sc.E}</td><td>I: ${sc.I}</td><td>${sc.E > sc.I ? 'E' : 'I'}</td></tr>
            <tr><td>Information</td><td>S: ${sc.S}</td><td>N: ${sc.N}</td><td>${sc.S > sc.N ? 'S' : 'N'}</td></tr>
            <tr><td>Decision</td><td>T: ${sc.T}</td><td>F: ${sc.F}</td><td>${sc.T > sc.F ? 'T' : 'F'}</td></tr>
            <tr><td>Lifestyle</td><td>J: ${sc.J}</td><td>P: ${sc.P}</td><td>${sc.J > sc.P ? 'J' : 'P'}</td></tr>`;
    }

    function handlePrint() {
        window.print();
    }

    function resetForm() {
        if(confirm("Clear all data and start a new form?")) {
            location.reload();
        }
    }

    renderQuestions();
</script>
</body>
</html>
